"use strict";(self.webpackChunkotai_documentation=self.webpackChunkotai_documentation||[]).push([[9596],{2752:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"troubleshooting/password-reset","title":"\ud83d\udd11 Reset Admin Password","description":"If you\'ve forgotten your admin password, don\'t worry! Below you\'ll find step-by-step guides to reset your admin password for Docker \ud83d\udc33 deployments and local installations of Open TutorAI.","source":"@site/docs/troubleshooting/password-reset.mdx","sourceDirName":"troubleshooting","slug":"/troubleshooting/password-reset","permalink":"/open-tutor-ai-docs/docs/troubleshooting/password-reset","draft":false,"unlisted":false,"editUrl":"https://github.com/pr-elhajji/open-tutor-ai-CE/docs/troubleshooting/password-reset.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"\ud83d\udd11 Reset Admin Password"},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udee0\ufe0f Troubleshooting","permalink":"/open-tutor-ai-docs/docs/troubleshooting/"},"next":{"title":"\ud83d\udcdd Tutorials","permalink":"/open-tutor-ai-docs/docs/category/-tutorials"}}');var o=s(4848),r=s(8453);const a={sidebar_position:1,title:"\ud83d\udd11 Reset Admin Password"},i="Resetting Your Admin Password \ud83d\udddd\ufe0f",d={},l=[{value:"For Docker Deployments \ud83d\udc33",id:"for-docker-deployments-",level:2},{value:"Step 1: Generate a New Password Hash \ud83d\udd10",id:"step-1-generate-a-new-password-hash-",level:3},{value:"Step 2: Update the Password in Docker \ud83d\udd04",id:"step-2-update-the-password-in-docker-",level:3},{value:"For Local Installations \ud83d\udcbb",id:"for-local-installations-",level:2},{value:"Step 1: Generate a New Password Hash \ud83d\udd10",id:"step-1-generate-a-new-password-hash--1",level:3},{value:"Step 2: Update the Password Locally \ud83d\udd04",id:"step-2-update-the-password-locally-",level:3},{value:"Alternate Docker Method",id:"alternate-docker-method",level:4},{value:"Nuking All the Data",id:"nuking-all-the-data",level:2},{value:"Step 1: Locate <code>webui.db</code> in Your Python Environment",id:"step-1-locate-webuidb-in-your-python-environment",level:3},{value:"Step 2: Delete <code>webui.db</code>",id:"step-2-delete-webuidb",level:3}];function c(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"resetting-your-admin-password-\ufe0f",children:"Resetting Your Admin Password \ud83d\udddd\ufe0f"})}),"\n",(0,o.jsx)(n.p,{children:"If you've forgotten your admin password, don't worry! Below you'll find step-by-step guides to reset your admin password for Docker \ud83d\udc33 deployments and local installations of Open TutorAI."}),"\n",(0,o.jsx)(n.h2,{id:"for-docker-deployments-",children:"For Docker Deployments \ud83d\udc33"}),"\n",(0,o.jsx)(n.p,{children:"Follow these steps to reset the admin password for Open TutorAI when deployed using Docker."}),"\n",(0,o.jsx)(n.h3,{id:"step-1-generate-a-new-password-hash-",children:"Step 1: Generate a New Password Hash \ud83d\udd10"}),"\n",(0,o.jsxs)(n.p,{children:["First, you need to create a bcrypt hash of your new password. Run the following command on your local machine, replacing ",(0,o.jsx)(n.code,{children:"your-new-password"})," with the password you wish to use:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"htpasswd -bnBC 10 \"\" your-new-password | tr -d ':\\n'\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," The output will include a bcrypt hash with special characters that need to be handled carefully. Any ",(0,o.jsx)(n.code,{children:"$"})," characters in the hash will need to be triple-escaped (replaced with ",(0,o.jsx)(n.code,{children:"\\\\\\"}),") to be used correctly in the next step."]}),"\n",(0,o.jsx)(n.h3,{id:"step-2-update-the-password-in-docker-",children:"Step 2: Update the Password in Docker \ud83d\udd04"}),"\n",(0,o.jsxs)(n.p,{children:["Next, you'll update the password in your Docker deployment. Replace ",(0,o.jsx)(n.code,{children:"HASH"})," in the command below with the bcrypt hash generated in Step 1, making sure to triple-escape any ",(0,o.jsx)(n.code,{children:"$"})," characters. Also, replace ",(0,o.jsx)(n.code,{children:"admin@example.com"})," with the email address linked to your admin account."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Important:"})," The following command may not work in all cases. If it doesn't work for you, try the alternative command below it."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run --rm -v open-webui:/data alpine/socat EXEC:\"bash -c 'apk add sqlite && echo UPDATE auth SET password='\\''HASH'\\'' WHERE email='\\''admin@example.com'\\''; | sqlite3 /data/webui.db'\", STDIO\n"})}),"\n",(0,o.jsx)(n.h2,{id:"for-local-installations-",children:"For Local Installations \ud83d\udcbb"}),"\n",(0,o.jsx)(n.p,{children:"If you have a local installation of Open TutorAI, here's how you can reset your admin password directly on your system."}),"\n",(0,o.jsx)(n.h3,{id:"step-1-generate-a-new-password-hash--1",children:"Step 1: Generate a New Password Hash \ud83d\udd10"}),"\n",(0,o.jsxs)(n.p,{children:["Just as with the Docker method, start by generating a bcrypt hash of your new password using the following command. Remember to replace ",(0,o.jsx)(n.code,{children:"your-new-password"})," with your new password:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"htpasswd -bnBC 10 \"\" your-new-password | tr -d ':\\n'\n"})}),"\n",(0,o.jsx)(n.h3,{id:"step-2-update-the-password-locally-",children:"Step 2: Update the Password Locally \ud83d\udd04"}),"\n",(0,o.jsxs)(n.p,{children:["Now, navigate to the ",(0,o.jsx)(n.code,{children:"open-webui"})," directory on your local machine. Update your password by replacing ",(0,o.jsx)(n.code,{children:"HASH"})," with the bcrypt hash from Step 1 and ",(0,o.jsx)(n.code,{children:"admin@example.com"})," with your admin account email, and execute:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sqlite3 backend/data/webui.db \"UPDATE auth SET password='HASH' WHERE email='admin@example.com';\"\n"})}),"\n",(0,o.jsx)(n.h4,{id:"alternate-docker-method",children:"Alternate Docker Method"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.em,{children:"If you have issues with the above."}),"  I had issues chaining the ",(0,o.jsx)(n.code,{children:"bash"})," commands in ",(0,o.jsx)(n.code,{children:"alpine/socat"}),", ",(0,o.jsxs)(n.em,{children:["since ",(0,o.jsx)(n.code,{children:"bash"})," doesn't exist."]})]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["Run ",(0,o.jsx)(n.code,{children:"alpine"})," linux connected to the open-webui volume."]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -it --rm -v open-webui:/path/to/data alpine\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.em,{children:[(0,o.jsx)(n.code,{children:"/path/to/data"})," depends on ",(0,o.jsx)(n.strong,{children:"your"})," volume settings."]})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Install ",(0,o.jsx)(n.code,{children:"apache2-utils"})," and ",(0,o.jsx)(n.code,{children:"sqlite"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"apk add apache2-utils sqlite\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Generate ",(0,o.jsx)(n.code,{children:"bcrypt"})," hash:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"htpasswd -bnBC 10 \"\" your-new-password | tr -d ':'\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Update password:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"sqlite3 /path/to/data/webui.db\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"UPDATE auth SET password='HASH' WHERE email='admin@example.com';\n-- exit sqlite: [Ctrl + d]\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"nuking-all-the-data",children:"Nuking All the Data"}),"\n",(0,o.jsxs)(n.p,{children:["If you want to ",(0,o.jsx)(n.strong,{children:"completely reset"})," Open TutorAI\u2014including all user data, settings, and passwords\u2014follow these steps to remove the ",(0,o.jsx)(n.code,{children:"webui.db"})," file."]}),"\n",(0,o.jsxs)(n.h3,{id:"step-1-locate-webuidb-in-your-python-environment",children:["Step 1: Locate ",(0,o.jsx)(n.code,{children:"webui.db"})," in Your Python Environment"]}),"\n",(0,o.jsxs)(n.p,{children:["If you\u2019re unsure where ",(0,o.jsx)(n.code,{children:"webui.db"})," is located (especially if you're using a virtual environment), you can find out by following these steps:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Activate your virtual environment (if applicable)."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Open a Python shell:\npython"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Run the following code inside the Python shell:"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'   import os\n   import open_webui\n\n   # Show where the Open TutorAI package is installed\n   print("Open TutorAI is installed at:", open_webui.__file__)\n\n   # Construct a potential path to webui.db (commonly located in \'data/webui.db\')\n   db_path = os.path.join(os.path.dirname(open_webui.__file__), "data", "webui.db")\n   print("Potential path to webui.db:", db_path)\n\n   # Check if webui.db exists at that path\n   if os.path.exists(db_path):\n       print("webui.db found at:", db_path)\n   else:\n       print("webui.db not found at:", db_path)\n'})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsxs)(n.li,{children:["Examine the output:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"If the file is found, you\u2019ll see its exact path."}),"\n",(0,o.jsxs)(n.li,{children:["If not, you may need to perform a broader filesystem search (e.g., using ",(0,o.jsx)(n.code,{children:"find"})," on Linux or a global file search on Windows/Mac)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"step-2-delete-webuidb",children:["Step 2: Delete ",(0,o.jsx)(n.code,{children:"webui.db"})]}),"\n",(0,o.jsx)(n.p,{children:"Once you\u2019ve located the file, remove it using a command similar to:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"   rm -rf /path/to/your/python/environment/lib/pythonX.X/site-packages/open_webui/data/webui.db\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Warning:"})," Deleting ",(0,o.jsx)(n.code,{children:"webui.db"})," will remove all stored data, including user accounts, settings, and passwords. Only do this if you truly want to start fresh!"]}),"\n",(0,o.jsx)(n.p,{children:"\ud83d\udcd6 By following these straightforward steps, you'll regain access to your Open TutorAI admin account in no time. If you encounter any issues during the process, please consider searching for your issue on forums or community platforms."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>i});var t=s(6540);const o={},r=t.createContext(o);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);